#!/usr/bin/env bpftrace

BEGIN
{
  printf("Logging Mempool\n");
}

usdt:./src/bitcoind:validation:mempool_loaded
{
  $count = (int64) arg0;
  $failed = (int64) arg1;
  $expired = (int64) arg2;
  $already_there = (int64) arg3;
  $unbroadcast = (int64) arg4;
  printf("Succeeded: %d Failed: %d Expiired: %d Already: %d Waiting: %d\n", $count, $failed, $expired, $already_there, $unbroadcast);
}
